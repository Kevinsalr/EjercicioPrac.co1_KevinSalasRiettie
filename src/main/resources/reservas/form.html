<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<div th:replace="layout/base :: layout(~{::section})">

<section>

    <h2 th:text="${reserva.id == null} ? 'Nueva Reserva' : 'Editar Reserva'"></h2>

    <form th:action="@{/reservas/guardar}" 
          th:object="${reserva}" 
          method="post">

        <input type="hidden" th:field="*{id}" />

        <div class="mb-3">
            <label class="form-label">Cliente</label>
            <input type="text" class="form-control"
                   th:field="*{nombreCliente}" required />
        </div>

        <div class="mb-3">
            <label class="form-label">Fecha</label>
            <input type="date" class="form-control"
                   th:field="*{fecha}" required />
        </div>

        <div class="mb-3">
            <label class="form-label">Servicio</label>
            <select class="form-select"
                    th:field="*{servicio.id}" required>
                <option value="">Seleccione un servicio</option>
                <option th:each="s : ${servicios}"
                        th:value="${s.id}"
                        th:text="${s.nombre}">
                </option>
            </select>
        </div>

        <button type="submit" class="btn btn-warning">
            Guardar
        </button>

        <a th:href="@{/reservas}" class="btn btn-secondary">
            Cancelar
        </a>

    </form>

</section>

</div>
</html>